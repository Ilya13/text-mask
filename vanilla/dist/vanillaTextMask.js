!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.vanillaTextMask=r():e.vanillaTextMask=r()}(this,function(){return function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var r=e.inputElement,t=(0,u.default)(e),n=function(e){var r=e.target.value;return t.update(r)};return r.addEventListener("input",n),t.update(r.value),{textMaskInputElement:t,destroy:function(){r.removeEventListener("input",n)}}}Object.defineProperty(r,"__esModule",{value:!0}),r.conformToMask=void 0,r.maskInput=o;var i=t(2);Object.defineProperty(r,"conformToMask",{enumerable:!0,get:function(){return n(i).default}});var a=t(5),u=n(a);r.default=o},function(e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.placeholderChar="_",r.strFunction="function"},function(e,r,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,i.isArray)(r)){if(("undefined"==typeof r?"undefined":o(r))!==a.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");r=r(e,t),r=(0,i.processCaretTraps)(r).maskWithoutCaretTraps}var n=t.guide,s=void 0===n||n,f=t.previousConformedValue,d=void 0===f?l:f,c=t.placeholderChar,p=void 0===c?a.placeholderChar:c,v=t.placeholder,h=void 0===v?(0,i.convertMaskToPlaceholder)(r,p):v,m=t.currentCaretPosition,y=t.keepCharPositions,g=t.insertChar,b=s===!1&&void 0!==d,C=e.length,k=d.length,x=h.length,P=r.length,T=C-k,O=T>0,w=m+(O?-T:0),M=w+Math.abs(T);if(y===!0&&!O){for(var S=l,j=w;j<M;j++)h[j]===p&&(S+=p);e=e.slice(0,w)+S+e.slice(w,C)}for(var _=e.split(l).map(function(e,r){return{char:e,isNew:r>=w&&r<M}}),V=C-1;V>=0;V--){var A=_[V].char;if(A!==p){var E=V>=w&&k===P;A===h[E?V-T:V]&&_.splice(V,1)}}if(g){var N=_.findIndex(function(e){return e.isNew});N+T<_.length&&_.splice(N+T,T)}var F=l,I=0;e:for(var R=0;R<x;R++){var L=h[R];if(L===p){if(_.length>0)for(;_.length>0;){var J=_.shift(),W=J.char,q=J.isNew;if(W===p&&b!==!0){F+=p;continue e}if(r[R].test(W)){if(y===!0&&q!==!1&&d!==l&&s!==!1&&O){for(var z=_.length,B=null,D=0;D<z;D++){var G=_[D];if(G.char!==p&&G.isNew===!1)break;if(G.char===p){B=D;break}}null!==B?(F+=W,_.splice(B,1)):R--}else F+=W;continue e}I++}b===!1&&(F+=h.substr(R,x));break}F+=L}if(b&&O===!1){for(var H=null,K=0;K<F.length;K++)h[K]===p&&(H=K);F=null!==H?F.substr(0,H+1):l}return{conformedValue:F,meta:{countRejectedChars:I}}}Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.default=n;var i=t(3),a=t(1),u=[],l=""},function(e,r,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.placeholderChar;if(!o(e))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(e.indexOf(r)!==-1)throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\n"+("The placeholder character that was received is: "+JSON.stringify(r)+"\n\n")+("The mask that was received is: "+JSON.stringify(e)));return e.map(function(e){return e instanceof RegExp?r:e}).join("")}function o(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}function i(e){return"string"==typeof e||e instanceof String}function a(e){return"number"==typeof e&&void 0===e.length&&!isNaN(e)}function u(e){return"undefined"==typeof e||null===e}function l(e){for(var r=[],t=void 0;t=e.indexOf(d),t!==-1;)r.push(t),e.splice(t,1);return{maskWithoutCaretTraps:e,indexes:r}}Object.defineProperty(r,"__esModule",{value:!0}),r.convertMaskToPlaceholder=n,r.isArray=o,r.isString=i,r.isNumber=a,r.isNil=u,r.processCaretTraps=l;var s=t(1),f=[],d="[]"},function(e,r){"use strict";function t(e){var r=e.previousConformedValue,t=void 0===r?o:r,i=e.previousPlaceholder,a=void 0===i?o:i,u=e.currentCaretPosition,l=void 0===u?0:u,s=e.conformedValue,f=e.rawValue,d=e.placeholderChar,c=e.placeholder,p=e.indexesOfPipedChars,v=void 0===p?n:p,h=e.caretTrapIndexes,m=void 0===h?n:h,y=e.meta;if(0===l||!f.length)return 0;var g=f.length,b=t.length,C=c.length,k=s.length,x=g-b,P=x>0,T=0===b,O=x>1&&!P&&!T;if(O)return l;var w=P&&(t===s||s===c),M=0,S=void 0,j=void 0;if(w)M=l-y.countRejectedChars;else{var _=s.toLowerCase(),V=f.toLowerCase(),A=V.substr(0,l).split(o),E=A.filter(function(e){return _.indexOf(e)!==-1});j=E[E.length-1];var N=a.substr(0,E.length).split(o).filter(function(e){return e!==d}).length,F=c.substr(0,E.length).split(o).filter(function(e){return e!==d}).length,I=F!==N,R=void 0!==a[E.length-1]&&void 0!==c[E.length-2]&&a[E.length-1]!==d&&a[E.length-1]!==c[E.length-1]&&a[E.length-1]===c[E.length-2];!P&&(I||R)&&N>0&&c.indexOf(j)>-1&&void 0!==f[l]&&(S=!0,j=f[l]);for(var L=v.map(function(e){return _[e]}),J=L.filter(function(e){return e===j}).length,W=E.filter(function(e){return e===j}).length,q=c.substr(0,c.indexOf(d)).split(o).filter(function(e,r){return e===j&&f[r]!==e}).length,z=q+W+J+(S?1:0),B=0,D=0;D<k;D++){var G=_[D];if(M=D+1,G===j&&B++,B>=z)break}}if(P){for(var H=M,K=M;K<=C;K++)if(c[K]===d&&(H=K),c[K]===d||m.indexOf(K)!==-1||K===C)return H}else if(S){for(var Q=M-1;Q>=0;Q--)if(s[Q]===j||m.indexOf(Q)!==-1||0===Q)return Q}else for(var U=M;U>=0;U--)if(c[U-1]===d||m.indexOf(U)!==-1||0===U)return U}Object.defineProperty(r,"__esModule",{value:!0}),r.default=t;var n=[],o=""},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var r={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:r,update:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,o=n.inputElement,s=n.mask,d=n.guide,m=n.pipe,g=n.placeholderChar,b=void 0===g?v.placeholderChar:g,C=n.keepCharPositions,k=void 0!==C&&C,x=n.insertChar,P=void 0!==x&&x,T=n.showMask,O=void 0!==T&&T;if("undefined"==typeof t&&(t=o.value),t!==r.previousConformedValue){("undefined"==typeof s?"undefined":l(s))===y&&void 0!==s.pipe&&void 0!==s.mask&&(m=s.pipe,s=s.mask);var w=void 0,M=void 0;if(s instanceof Array&&(w=(0,p.convertMaskToPlaceholder)(s,b)),s!==!1){var S=a(t),j=o.selectionEnd,_=r.previousConformedValue,V=r.previousPlaceholder,A=void 0;if(("undefined"==typeof s?"undefined":l(s))===v.strFunction){if(M=s(S,{currentCaretPosition:j,previousConformedValue:_,placeholderChar:b}),M===!1)return;var E=(0,p.processCaretTraps)(M),N=E.maskWithoutCaretTraps,F=E.indexes;M=N,A=F,w=(0,p.convertMaskToPlaceholder)(M,b)}else M=s;var I={previousConformedValue:_,guide:d,placeholderChar:b,pipe:m,placeholder:w,currentCaretPosition:j,keepCharPositions:k,insertChar:P},R=(0,c.default)(S,M,I),L=R.conformedValue,J=R.meta,W=("undefined"==typeof m?"undefined":l(m))===v.strFunction,q={};W&&(q=m(L,u({rawValue:S},I)),q===!1?q={value:_,rejected:!0}:(0,p.isString)(q)&&(q={value:q}));var z=W?q.value:L,B=(0,f.default)({previousConformedValue:_,previousPlaceholder:V,conformedValue:z,placeholder:w,rawValue:S,currentCaretPosition:j,placeholderChar:b,indexesOfPipedChars:q.indexesOfPipedChars,caretTrapIndexes:A,meta:J}),D=z===w&&0===B,G=O?w:h,H=D?G:z;r.previousConformedValue=H,r.previousPlaceholder=w,o.value!==H&&(o.value=H,i(o,B))}}}}}function i(e,r){document.activeElement===e&&(g?b(function(){return e.setSelectionRange(r,r,m)},0):e.setSelectionRange(r,r,m))}function a(e){if((0,p.isString)(e))return e;if((0,p.isNumber)(e))return String(e);if(void 0===e||null===e)return h;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(e))}Object.defineProperty(r,"__esModule",{value:!0});var u=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.default=o;var s=t(4),f=n(s),d=t(2),c=n(d),p=t(3),v=t(1),h="",m="none",y="object",g="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),b="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout}])});